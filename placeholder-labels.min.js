/*
 * Created by:  Matt Hinchliffe <http://www.maketea.co.uk>
 * Date:        02/02/2011
 * Modified:    04/04/2011
 * Version:     1.0.0 beta
 */

function InlineLabels(b,d){b=b===undefined?"inline":b;d=d||document;this.test=function(){if(window.Modernizr){return Modernizr.input.placeholder}else{var f=document.createElement("input");return !!("placeholder" in f)}};this.get=function(k,m,g){var f=typeof g=="string"?document.getElementById(g):g;if(!f||typeof f!="object"){return}var n=f.getElementsByTagName(m),j=[];if(k){for(var l=0;l<n.length;l++){var h=n[l].getAttribute("class")||n[l].getAttribute("className");if(h&&h.indexOf(k)>-1){j.push(n[l])}}return j}return n};this.bind=function(h,g,f){if(h.addEventListener){h.addEventListener(g,f,false)}else{h.attachEvent("on"+g,f)}};this.contrive=function(f){f.value=a;f.className=e.className+" placeholder";this.bind(f,"focus",function(){if(f.value==f.getAttribute("placeholder")){f.value="";f.className=f.className.replace(" placeholder","")}});this.bind(f,"blur",function(){if(!f.value||f.value===""){f.value=f.getAttribute("placeholder");if(f.className.indexOf("placeholder"==-1)){f.className=f.className+" placeholder"}}})};this.Labels=this.get(b,"label",d)||[];this.Native=this.test();for(var c=0;c<this.Labels.length;c++){var a=this.Labels[c].firstChild.nodeValue,e=document.getElementById(this.Labels[c].getAttribute("for")||this.Labels[c].getAttribute("htmlFor"));if(e&&(e.nodeName.toLowerCase()=="textarea"||e.type=="text")){this.Labels[c].style.display="none";e.setAttribute("placeholder",a);if(!this.Native){this.contrive(e)}}}};